package zxl.springboot.rest.controller;import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.http.*;import org.springframework.http.converter.StringHttpMessageConverter;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import org.springframework.web.client.RestTemplate;import zxl.springboot.rest.domain.Person;import javax.annotation.Resource;import static org.junit.Assert.*;/** * Created by xiao on 2018/8/27. */@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTestpublic class PersonControllerTest {    private RestTemplate template;    @Before    public void init() {        template = new RestTemplate();    }    @Test    public void getPersonId() throws Exception {        ResponseEntity<String> entity = template.postForEntity("http://localhost:8080/person/100",null,String.class);        System.out.println(entity.getBody());    }    @Test    public void createPerson() throws Exception {        HttpHeaders headers = new HttpHeaders();//创建一个头部对象        //设置contentType        headers.setContentType(MediaType.APPLICATION_JSON_UTF8);        Person person = new Person("188","占晓璐");        HttpEntity<Person> req = new HttpEntity<Person>(person,headers);        ResponseEntity<Person> entity = template.postForEntity("http://localhost:8080/person/new",req,Person.class);        System.out.println(entity.getBody().getName());    }    @Test    public void modifyPerson() throws Exception {        HttpHeaders headers = new HttpHeaders();//创建一个头部对象        //设置contentType//        converter.hashCode();        MediaType type = MediaType.parseMediaType("application/xml;charset=UTF-8");        headers.setContentType(type);        String xml = "<name>占晓璐</name>";        HttpEntity<String> req = new HttpEntity<String>(xml,headers);        ResponseEntity<String> entity = template.postForEntity("http://localhost:8080/person",req,String.class);        System.out.println(entity.getBody());    }}